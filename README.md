# HiBot
**HiBot** – это бот [Telegram](https://telegram.org/), отправляющий приветственные сообщения пользователям, подавшим заявку на вступление в закрытую группу или канал. Он поддерживает стили Telegram, прикрепление вложений и кнопку перехода по ссылке.

## Порядок установки и использования
1. Скачать и распаковать последний релиз.
2. Убедиться в доступности на вашем устройстве Python версии 3.10 или новее.
3. Открыть каталог со скриптом в консоли: можно воспользоваться командой `cd` или встроенными возможностями файлового менеджера.
4. Создать виртуальное окружение Python.
```
python -m venv .venv
```
5. Активировать вирутальное окружение. 
```Shell
# Для Windows.
.venv\Scripts\activate.bat

# Для Linux или MacOS.
source .venv/bin/activate
```
6. Установить зависимости.
```
pip install -r requirements.txt
```
7. Произвести настройку путём редактирования файла _Settings.json_.
8. Назначить бота администратором группы или канала.
9. В вирутальном окружении указать для выполнения интерпретатором файл `main.py` и запустить.
10. Перейти в чат с ботом и активировать его командой `/start`. 
11. Для автоматического запуска рекомендуется провести инициализацию сервиса через [systemd](systemd/README.md) на Linux или путём добавления его в автозагрузку на Windows.

# Команды
```
/debug
```
Выводит отладочную информацию.
___
```
/delbutton
```
Отключает прикрепляемую к приветственному сообщению кнопку.
___
```
/start
```
Инициализирует работу бота и запускает процесс авторизации.
___
```
/unattach
```
Удаляет все вложения.

# Settings.json
```JSON
"token": ""
```
Сюда необходимо занести токен бота Telegram (можно получить у [BotFather](https://t.me/BotFather)).
___
```JSON
"premium": false
```
Здесь указывается, имеется ли у хозяина бота Premium-подписка. Влияет на максимальную длину сообщения.
___
```JSON
"auto-approve": false
```
Указывает, следует ли боту автоматически одобрять заявки на вступление.
___
```JSON
"password": "1234"
```
Пароль для авторизации администратора.
___
```JSON
"active": true
```
Если отключить, бот перестанет приветствовать пользователей, подавших заявку на встпуление.
___
```JSON
"report": null
```
Указывает ID чата для отправки отчётов об ошибках.
___
```JSON
"use-supervisor": false
```
Включает поток-надзиратель за автоматическим одобрением заявок на вступление.
___
```JSON
"message": ""
```
Текст приветственного сообщения. Поддерживает HTML разметку, допустимую в Telegram.
___
```JSON
"button": null
```
Заголовок кнопки.
___
```JSON
"link": null
```
Ссылка, по которой пользователю будет предложено перейти после нажатия кнопки.
___
```JSON
"collect-media": false
```
Состояние: идёт ли в данный момент приём вложений.
___
```JSON
"admins": []
```
Список ID аккаунтов Telegram, имеющих права администратора.

_Copyright © DUB1401. 2023-2024._
